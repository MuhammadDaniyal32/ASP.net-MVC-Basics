@model IEnumerable<InventoryManagmentSystem2.Models.User>

@{
    ViewBag.Title = "Index";
}
    
        <h1>Users</h1>
        <hr />
        <p>
            @if (User.IsInRole("Admin") || User.IsInRole("User") || User.IsInRole("Developer"))
            {
                @Html.ActionLink("Create New", "Create")
            }
            </p>
        
            <table class="table table-hover table-striped">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.username)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.password)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.u_name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.phone)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.status)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.role.r_name)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.username)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.password)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.u_name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.email)
                        </td>
                        <td>
                            @{

                                if (item.status == Convert.ToByte(1))
                                {
                                    <p>Active</p>
                                }
                                else
                                {
                                    <p>Inactive</p>

                                }
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.role.r_name)
                        </td>
                        <td>
                            @if (User.IsInRole("Admin") || User.IsInRole("Developer"))
                            {
                                @Html.ActionLink("Edit |", "Edit", new { id = item.u_id })
                            }

                            @if (User.IsInRole("Admin"))
                            {
                                @Html.ActionLink("Delete |", "Delete", new { id = item.u_id })
                            }

                            @Html.ActionLink("Details", "Details", new { id = item.u_id }) 
                        </td>
                    </tr>
                }

            </table>
        
        
